<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="UTF-8" />
<title>某储备粮的“学习笔记”</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- 使用url函数转换相关路径 -->
<link rel="stylesheet" type="text/css" media="all" href="http://blog.gregwym.info/usr/themes/trapecho/css/bootstrap.min.css" />
<link rel="stylesheet" type="text/css" media="all" href="http://blog.gregwym.info/usr/themes/trapecho/css/bootstrap-responsive.min.css" />
<link rel="stylesheet" type="text/css" media="all" href="http://blog.gregwym.info/usr/themes/trapecho/style.css" />
<link rel="stylesheet" type="text/css" media="all" href="http://blog.gregwym.info/usr/themes/trapecho/css/prettify.css" />

<!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
<!--[if lt IE 9]>
    <script src="//html5shim.googlecode.com/svn/trunk/html5.js"></script>
<![endif]-->

<!-- Le fav and touch icons -->
<link rel="shortcut icon" href="http://blog.gregwym.info/page/9/images/favicon.ico">
<link rel="apple-touch-icon" href="http://blog.gregwym.info/page/9/images/apple-touch-icon.png">
<link rel="apple-touch-icon" sizes="72x72" href="http://blog.gregwym.info/page/9/images/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon" sizes="114x114" href="http://blog.gregwym.info/page/9/images/apple-touch-icon-114x114.png">

<!-- 通过自有函数输出HTML头部信息 -->
<meta name="description" content="by 咳嗽di小鱼" />
<meta name="keywords" content="咳嗽di小鱼, 网络, 编程, 开发, 笔记, 前端, 服务器, 算法, Linux, cs, uw, html, css, php, js, java, c, c++, algorithm, web" />
<meta name="generator" content="Typecho 0.9/13.12.12" />
<meta name="template" content="trapecho" />
<link rel="pingback" href="../../action/xmlrpc.html" />
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="../../action/xmlrpc%3Frsd.html" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="../../action/xmlrpc%3Fwlw.html" />
<link rel="alternate" type="application/rss+xml" title="RSS 2.0" href="../../feed/index.html" />
<link rel="alternate" type="application/rdf+xml" title="RSS 1.0" href="../../feed/rss/index.html" />
<link rel="alternate" type="application/atom+xml" title="ATOM 1.0" href="../../feed/atom/index.html" />
</head>

<body onload="prettyPrint()">

<div class="container">

<header class="jumbotron" id="overview">
        <h1>某储备粮的“学习笔记” </h1>
    <p class="lead">by 咳嗽di小鱼</p>

    <div class="navbar">
        <div class="navbar-inner">
            <div class="container">
                <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </a>
                
                <a class="brand" href="../../index.html">
                    Trapecho
                </a>
                <div class="nav-collapse">
                    <ul class="nav">
                        <li class="active"><a href="../../index.html">Home</a></li>
                        <li class="divider-vertical"></li>
                                                                        <li><a href="../../category/sum-up/index.html" title="Sum Up">Sum Up</a></li>
                                                <li><a href="../../category/code-dump/index.html" title="Code Dump">Code Dump</a></li>
                                                <li><a href="../../category/network/index.html" title="Network">Network</a></li>
                                                <li><a href="../../category/jotting/index.html" title="Jotting">Jotting</a></li>
                                                <li><a href="../../category/Portfolio/index.html" title="Portfolio">Portfolio</a></li>
                                                <li class="divider-vertical"></li>
                                                                        <li><a href="../../linked-in.html" title="Linked In">Linked In</a></li>
                                                <li><a href="../../guess-book.html" title="Guest Book">Guest Book</a></li>
                                                <li><a href="../../about.html" title="About">About</a></li>
                                                <li><a href="../../rss.html" title="RSS">RSS</a></li>
                                            </ul>
                </div><!--/.nav-collapse -->
            </div>
        </div>
    </div>
</header>

<div class="content">


<div class="row">
    <div class="span9" id="content">
                <div class="post">
            <div class="page-header">
                <h1>
                    <a href="../../guo-duan-huan-vps-zhe-hui-shi-quickweb.html">果断换VPS...这回是QuickWeb</a> 
                    <small></small>
                </h1>
                <h6>
                    <span>Author: 咳嗽di小鱼</span>
                    <span>Date: April 2, 2011</span>
                    <span>Category: <a href="../../category/jotting/index.html">Jotting</a></span>
                    <a href="../../guo-duan-huan-vps-zhe-hui-shi-quickweb.html#comments">5 Comments</a>
                </h6>
            </div>
            <div class="entry-content"><p>Hostrail实在是不给力...`CPU不灵, 装lnmp慢的一塌糊涂, 好不容易Setup好, 各种问题层出不穷.<br /><ul>
<li>HyperVM Panel时不时无法访问, 即使可以访问也慢得要死</li>
<li>html页的速度倒还不错, 可Typecho这么轻量化的php应用都慢的不成样子</li>
<li>从3.29到4.1这段时间, server至少down了两次, 而且都是长时间的</li>
<li>外加各种不确定性重启...</li>
</ul><br />
悲催的不是一点两点= =||`<br />买的时候抱着随便玩玩的心理也就没仔细研究, 之后才看明白VPS是怎么一潭深水.<br /><br />这两天好好的查了下VPS的相关信息, 留下这么几个性价比高, 又比较靠谱的ISP:<br />VPSYOU, YardVPS, Ramhost, QuickWeb<br /><ul>
<li>VPSYOU价格中等, OpenVZ 256m的版本$4/m, CPU是745x2, 硬盘20G.</li>
<li>YardVPS的OpenVZ口碑不太好, 但他的Xen据说硬盘速度超一流, 512m 1.5T流量, $7.95/m. <br />
不过很少有货, 我看到有一个但因为犹豫不决miss掉了.</li>
<li>Ramhost是口碑最好的一个. 所有信息都只有夸没有贬, 只是一直没货, 而且256m要$8.99/m.<br />
(Ramhost每周末会补货, 要注意刷网页)</li>
<li>QuickWeb在网站上post出来的plan的性价比不是很高, 最低的OpenVZ/Xen都要$9.95/m. <br />
有个<a target="_blank" href="http://quickweb.co.nz/chinese">Chinese Promo</a>还可以, Texas机房的256mOpenVZ要$5.5/m, 不过好像也是out of stock.</li>
</ul><p>最后来介绍下我的最终选择:<br />QuickWeb一开始并不在我的选择范围内, 甚至根本不知道这个ISP, 因为几个大的VPS博客都没有特别推荐过这个ISP. 后来在<a target="_blank" href="http://neal.im/">Neal的博客</a>发现他在做<a target="_blank" href="http://neal.im/webhosting/">QuickWeb的代购</a>, 才发现这也是一家在美国蛮有实力的IPS. (之所以说有实力是因为他们在美国五个大的数据中心都有机房)<br />最后入手的这个是$35.88/年的plan, 平摊下来一月只要$3, Neal主推的就是这个plan.<br />他自己的blog就搭在这个plan的VPS上, 访问速度很好, 而且看底下评论的反响普遍不错, 经Google四处查证以后, 决定还是下手试试看. Paypal付款给Neal以后, 主机即时开通.<br /><br />规格:<br />OpenVZ/SolusVM<br />Intel(R) Xeon(R) CPU X3440 @ 2.53GHz, 单核<br />256M/384M突发<br />10G硬盘, 速度测试平均22M/s<br />美国凤凰城机房10Mbit带宽(Phoenix/LA) 250G/m流量<br />+$5可升级100Mbit<br />+$10可升级1000Mbit<br /><br />到目前为止, 对这个主机还是很满意的, 速度和性能方面都很不错. LNMP只用了20分钟就装好了.<br />有需求的朋友可以联系Neal代购, <a target="_blank" href="http://neal.im/webhosting/">http://neal.im/webhosting/</a><br /></p></div>
        </div>
        <hr class="soften" />
                <div class="post">
            <div class="page-header">
                <h1>
                    <a href="../../gao-su-huan-cun-xue-xi-cache--memory-hierarchies.html">高速缓存学习 Cache (Memory Hierarchies)</a> 
                    <small></small>
                </h1>
                <h6>
                    <span>Author: 咳嗽di小鱼</span>
                    <span>Date: April 1, 2011</span>
                    <span>Category: <a href="../../category/sum-up/index.html">Sum Up</a></span>
                    <a href="../../gao-su-huan-cun-xue-xi-cache--memory-hierarchies.html#comments">19 Comments</a>
                </h6>
            </div>
            <div class="entry-content"><p>搞定240以后, 晚上就开始搞251...<br />硬件的东西其实还挺有意思的, 很多是以前只知其然不知其所以然的东西. 比如这回终于知道了为啥虚拟内存的设置叫"页面文件", 比如CPU的L1, L2, L3都是怎么和内存协调工作的...lol`<br /><br />251 Course Notes上的内容大多都比较容易理解, 不过阅读中文的效率必然还是比英文的高很多, 能在网上找到对应的中文材料是件很幸运的事儿.<br />虽然对百度文库无好感= =, 但不得不说里边好东西真不少...拿出来给大家分享一下<br /><br /><object height="500" align="middle" width="630" id="reader" codebase="http://fpdownload.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,0,0" classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000"><param value="window" name="wmode"><param value="true" name="allowfullscreen"><param name="allowscriptaccess" value="always"><param value="http://wenku.baidu.com/static/flash/apireader.swf?docurl=http://wenku.baidu.com/play&amp;docid=689d84d97f1922791688e882&amp;title=计算机体系结构课件&amp;doctype=pdf&amp;fpn=5&amp;npn=5&amp;readertype=external&catal=0&amp;cdnurl=http://txt.wenku.baidu.com/play" name="movie"><embed height="500" align="middle" width="630" pluginspage="http://www.macromedia.com/go/getflashplayer" type="application/x-shockwave-flash" name="reader" src="http://wenku.baidu.com/static/flash/apireader.swf?docurl=http://wenku.baidu.com/play&amp;docid=689d84d97f1922791688e882&amp;title=计算机体系结构课件&amp;doctype=pdf&amp;fpn=5&amp;npn=5&amp;readertype=external&catal=0&amp;cdnurl=http://txt.wenku.baidu.com/play" allowfullscreen="true" wmode="window" allowscriptaccess="always" bgcolor="#FFFFFF" ver="9.0.0"></embed></object><br /></p></div>
        </div>
        <hr class="soften" />
                <div class="post">
            <div class="page-header">
                <h1>
                    <a href="../../zhao-shu-zu-vector-nei-di-k-da-de-shu.html">找数组/vector内第k大的数</a> 
                    <small></small>
                </h1>
                <h6>
                    <span>Author: 咳嗽di小鱼</span>
                    <span>Date: March 31, 2011</span>
                    <span>Category: <a href="../../category/code-dump/index.html">Code Dump</a></span>
                    <a href="../../zhao-shu-zu-vector-nei-di-k-da-de-shu.html#comments">1 Comment</a>
                </h6>
            </div>
            <div class="entry-content"><p>= =...`消极怠工消极怠工, 240拖到最后一秒算是交掉了. w/e</p><p>找一个vector里第k大的数一直是个有意思的课题, 这次又碰到了, 自己写了一个. 记下来记下来, 以后八成用得到.</p><p>网上给的思路很多, 大家普遍认为用<a href="http:///cs-240-fu-xi-zong-jie-zhi-san--sorting-and-randomized-algorithms.html">quicksort的algorithm</a>是效率最好的. 原本也不怎么在乎效率问题, 完全是被240逼的啊啊啊啊啊...</p><p>vector好像并不是高效率的选择, 不过随它去吧`这次的tree实在有够恶心</p><pre><code>#include &lt;vector&gt; 

int kTh(vector&lt;int&gt; &amp; vals, int k){ 
    if(k == 0){ // 如果k为0, 则取中点 
        k = vals.size(); 
        k = k / 2 + k % 2; 
    }

    vector&lt;int&gt; v, l ,r; 
    int i; 
    v = vals; 
    int c, n = 0, s = v.size(), p = v[0]; // pivot = the first 

    while(true){ 
        for(i = s-1; i &gt;= 0; i--){ // partite 
            c = v[i]; 
            if(c &lt;= p) l.push_back(c); 
            else if(c &gt; p) r.push_back(c); 
        } 
        s = l.size(); 
        if(s == k) break; // find the k'th 
        else if(s &gt; k) v = l; // in left 
        else if(s &lt; k) { // in right 
            k = k - l.size(); 
            v = r; 
        } 

        l.clear(); 
        r.clear(); 
        s = v.size(); 
        p = v[0]; // re-choose pivot 
    } 
    return p; 
}
</code></pre><p>欢迎大家批评指正...= =`</p><p>更新更规范的写法, 请见 <a href="http:///cs-240-fu-xi-zong-jie-zhi-san--sorting-and-randomized-algorithms.html">CS 240复习总结之三: Sorting and Randomized Algorithms</a></p></div>
        </div>
        <hr class="soften" />
                <div class="post">
            <div class="page-header">
                <h1>
                    <a href="../../nginx-er-ji-yu-ming-zi-dong-huo-shou-dong-pi-pei-zi-mu-lu.html">Nginx二级域名自动或手动匹配子目录</a> 
                    <small></small>
                </h1>
                <h6>
                    <span>Author: 咳嗽di小鱼</span>
                    <span>Date: March 30, 2011</span>
                    <span>Category: <a href="../../category/network/index.html">Network</a></span>
                    <a href="../../nginx-er-ji-yu-ming-zi-dong-huo-shou-dong-pi-pei-zi-mu-lu.html#comments">No Comments</a>
                </h6>
            </div>
            <div class="entry-content"><p>说写就写.</p><p>刚刚搞定了Nginx二级域名的自动rewrite, 只要把自动匹配的配置放在几个特殊server定义之前, 就不会相互影响, 还挺简单的.<br />需要在nginx.conf里修改http里增加新的server部分</p><p>先说说标准的二级域名rewrite怎么写:</p><pre><code>server { 
    listen 80; 
    server_name sub.domain.com; 
    index index.html index.htm index.php;
    root /***/wwwroot/sub_domain; 
    include other.conf; 

    location ~ .*\.(php|php5)?$ { 
        fastcgi_pass unix:/tmp/php-cgi.sock; 
        fastcgi_index index.php; 
        include fcgi.conf; 
    } 

    location ~ .*\.(gif|jpg|jpeg|png|bmp|swf)$ { 
        expires 30d; 
    } 

    location ~ .*\.(js|css)?$ { 
        expires 12h; 
    } 

    access_log off; 
}
</code></pre><p>基本上在server_name里写上地址, root里写上对应的目录就万事大吉了</p><p>然后是自动匹配的部分, 区别只在server_name和root的解析上:</p><pre><code>server_name *.domain.com; 
set $subdomain "default"; 
if ( $host ~* (.*)\.(.*)\.(.*)) { 
    set $subdomain $1; 
} 
root /***/wwwroot/$subdomain;
</code></pre><p>第一篇结束...哈哈</p><p>注: 以上配置是以Lnmp一键安装包自动生成的配置文件为基础修改的</p></div>
        </div>
        <hr class="soften" />
                <div class="post">
            <div class="page-header">
                <h1>
                    <a href="../../xian-zhe-teng-zhe.html">先折腾着`</a> 
                    <small></small>
                </h1>
                <h6>
                    <span>Author: 咳嗽di小鱼</span>
                    <span>Date: March 29, 2011</span>
                    <span>Category: <a href="../../category/jotting/index.html">Jotting</a></span>
                    <a href="../../xian-zhe-teng-zhe.html#comments">2 Comments</a>
                </h6>
            </div>
            <div class="entry-content"><p>眼馋VPS很久了...毕竟没资本弄dedicated server, 弄个VPS玩玩也算像个样子.<br />这个VPS是<del>hostrail.com的<a href="https://hostrail.com/vps.php/">VPS 2 Power Units Server</a></del>,</p><ul>
<li>60G硬盘</li>
<li>400G带宽</li>
<li>384MB内存</li>
<li>0.8G CPU(写的是0,6, 实际是0.2x4)</li>
<li>1 IP</li>
</ul><p>总体来说= =`还算ok吧. 毕竟配上coupon, 每3个月才$6.29, 而且这个价格还是终身的, 即使速度不太理想, 也不算大碍. 稳定性有待长期验证.</p><p><strong><em>后续请看 <a href="../../guo-duan-huan-vps-zhe-hui-shi-quickweb.html">http://blog.gregwym.info/guo-duan-huan-vps-zhe-hui-shi-quickweb.html</a></em></strong></p><p><hr /></p><p>已经在Title上写了是学习笔记, 那必然主要用来记技术上的东西.<br />越往后学越觉得脑子不够用, 很多以前折腾过的东西, 再碰到的时候明明知道以前解决过却想不起来/找不到解决的方法了. 所以能有这个地方收集平时学到的点滴, 总又一天会派上用场.</p><p>(又因为找不到合适的笔记软件, 记录Code什么的, 用网页的形式最合适不过...)</p><p>Intro就这样吧`</p><p><hr /></p><p>做个Code Highlight的演示</p><pre><code>if(this.is.c++()){ 
    return "this should be highlighted\n" 
} 
</code></pre></div>
        </div>
        <hr class="soften" />
                <div class="pagination">
            <ol class="page-navigator"><li><a class="prev" href="../8/index.html">&laquo;</a></li><li><a href="../1/index.html">1</a></li><li><span>...</span></li><li><a href="../6/index.html">6</a></li><li><a href="../7/index.html">7</a></li><li><a href="../8/index.html">8</a></li><li class="current"><a href="index.html">9</a></li></ol>        </div>
    </div><!-- end #content-->
    <div class="span3" id="sidebar">
    <div class="widget_search">
        <form method="post" id="searchform" class="form-search">
            <input type="text" class="span2" name="s" id="s" />
            <button type="submit" class="btn" id="searchsubmit">Search</button>
        </form>
    </div>
    
        
    
    
        <div class="widget">
        <h3>Recent Comments</h3>
        <ul>
                                    <li><a href="../../github-you-should-have-told-me-earlier.html#comment-952">payday loans</a>: wfxqtdq</li>
                        <li><a href="../../Trapecho-boostrap-based-typecho-theme.html#comment-936">地铁线路图网</a>: 我也在用typecho，小巧玲珑，稍微改了以下默认模板，站现在简洁速度也不错，点击我的昵称可以访问。</li>
                        <li><a href="../../about.html#comment-930">ramble</a>: 博客 ，请问如何显示显示文章前3段的摘要  不打乱格式</li>
                        <li><a href="../../about.html#comment-874">清源</a>: 看来暂时只能看着用了，google的高亮的比较不明显。</li>
                        <li><a href="../../about.html#comment-870">清源</a>: 大哥呀，主题这几天我看着感觉用中文书写标题字体太大了，正文的字体也太小了，估计还是适合用英文，不知道...</li>
                    </ul>
    </div>
        
        <div class="widget">
    		<h3>Labels</h3>
        <ul>
                                    <a href="../../tag/algorithm/index.html" class="size-20">algorithm</a>
                        <a href="../../tag/review/index.html" class="size-20">review</a>
                        <a href="../../tag/cs240/index.html" class="size-10">cs240</a>
                        <a href="../../tag/server/index.html" class="size-10">server</a>
                        <a href="../../tag/VPS/index.html" class="size-10">VPS</a>
                        <a href="../../tag/code/index.html" class="size-5">code</a>
                        <a href="../../tag/database/index.html" class="size-5">database</a>
                        <a href="../../tag/cs348/index.html" class="size-5">cs348</a>
                        <a href="../../tag/typecho/index.html" class="size-5">typecho</a>
                        <a href="../../tag/nginx/index.html" class="size-5">nginx</a>
                        <a href="../../tag/search/index.html" class="size-5">search</a>
                        <a href="../../tag/GUI/index.html" class="size-5">GUI</a>
                        <a href="../../tag/linux/index.html" class="size-5">linux</a>
                        <a href="../../tag/java/index.html" class="size-5">java</a>
                        <a href="../../tag/DNS/index.html" class="size-5">DNS</a>
                        <a href="../../tag/blog/index.html" class="size-5">blog</a>
                        <a href="../../tag/apple/index.html" class="size-5">apple</a>
                        <a href="../../tag/cs241/index.html" class="size-5">cs241</a>
                        <a href="../../tag/compiler/index.html" class="size-5">compiler</a>
                        <a href="../../tag/sql/index.html" class="size-5">sql</a>
                    </ul>
		</div>
    
    
        <div class="widget">
        <h3>Archives</h3>
        <ul>
            <li><a href="../../2013/09/index.html">September 2013</a></li>
<li><a href="../../2012/12/index.html">December 2012</a></li>
<li><a href="../../2012/11/index.html">November 2012</a></li>
<li><a href="../../2012/08/index.html">August 2012</a></li>
<li><a href="../../2012/06/index.html">June 2012</a></li>
<li><a href="../../2012/04/index.html">April 2012</a></li>
<li><a href="../../2012/03/index.html">March 2012</a></li>
<li><a href="../../2012/02/index.html">February 2012</a></li>
<li><a href="../../2011/12/index.html">December 2011</a></li>
<li><a href="../../2011/11/index.html">November 2011</a></li>
<li><a href="../../2011/10/index.html">October 2011</a></li>
<li><a href="../../2011/06/index.html">June 2011</a></li>
<li><a href="../../2011/05/index.html">May 2011</a></li>
<li><a href="../../2011/04/index.html">April 2011</a></li>
<li><a href="../../2011/03/index.html">March 2011</a></li>
        </ul>
    </div>
    
    
        <div class="widget">
        <h3>Others</h3>
        <ul>
                        <li class="last"><a href="http://blog.gregwym.info/admin/login.php">Login</a></li>
                        <li><a href="http://validator.w3.org/check/referer">Valid XHTML</a></li>
        </ul>
    </div>
    
    </div><!-- end #sidebar -->
    
</div>
<footer>
    <p>
        Powered by <a href="http://typecho.org/">Typecho</a>. 
        <a href="http://dolast.com/pages/trapecho">Trapecho</a> theme by <a href="../../index.html">咳嗽di小鱼</a>. 
        Hosting on <a href="https://www.digitalocean.com/?refcode=b846692d6a3a">Digital Ocean</a>
    </p>
</footer><!-- end #footer -->

</div>
</div>

<script src="http://blog.gregwym.info/usr/themes/trapecho/js/jquery-1.7.1.min.js"></script>
<script src="http://blog.gregwym.info/usr/themes/trapecho/js/bootstrap.min.js"></script>
<script src="http://blog.gregwym.info/usr/themes/trapecho/js/prettify.js"></script>
<script type="text/javascript">
    // fix navbar on scroll
    var $win = $(window)
      , $nav = $('.navbar')
      , navTop = $('.navbar').length && $('.navbar').offset().top - 10
      , isFixed = 0

    processScroll()

    $win.on('scroll', processScroll)

    function processScroll() {
      var i, scrollTop = $win.scrollTop()
      if (scrollTop >= navTop && !isFixed) {
        isFixed = 1
        $nav.addClass('navbar-fixed-top')
      } else if (scrollTop <= navTop && isFixed) {
        isFixed = 0
        $nav.removeClass('navbar-fixed-top')
      }
    }
    
    $('.page-navigator li:not(:has(a))').html('<a>...</a>');
    $('.page-navigator .current').addClass('active');
    
        $('pre').addClass('prettyprint linenums');
        $('.entry-content a').attr('target','_blank');
</script>
</body>
</html>
